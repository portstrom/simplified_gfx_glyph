<h1>gfx_glyph example</h1><p>This example program loads an HTML document from a file, parses it using <b>html5ever</b>, and displays it using <b>gfx-glyph</b> and <b>Glutin</b>. The document can be scrolled by using the mouse wheel. Fonts are loaded from the folder <code>/usr/share/fonts/truetype/dejavu</code>. To load fonts from another location, search for this string literal in <code>main.rs</code> and replace it.</p><h2>HTML parsing</h2><p>The module <code>html_document</code> takes care of parsing the HTML document. The crate <i>html5ever</i> does the heavy work to parse the HTML document into an unambiguous tree of elements. After that, the elements are parsed into a simpler model, supporting only the most essential features for text documents.</p><h3>Blocks</h3><p>The model represents a series of blocks. Blocks cannot be nested. When nested elements representing blocks are found in the HTML document, the HTML document is flattened by splitting the outer block around the inner block, which becomes a top level block. Each block has a class. The following block classes are supported:</p><ul><li>heading 1<li>heading 2<li>heading 3<li>heading 4<li>heading 5<li>heading 6<li>image<li>list item<li>paragraph<li>preformatted</ul><p>All blocks except images contain a series of spans.</p><h3>Spans</h3><p>Spans may be text spans or line breaks. Each text span has a class. The following classes of text spans are supported:</p><ul><li>bold<li>bold italic<li>bold italic link<li>bold link<li>code<li>italic<li>italic link<li>link<li>regular</ul><p>Text in headings is initially bold. Text in preformatted blocks is initially code.</p><h2>Document layout</h2><p>The module <code>display_document</code> takes care of producing positioned glyphs for a document. This task includes wrapping lines. The result contains a series of positioned glyphs that can be displayed, and also a series of lines, telling which glyphs belong to which line. Each line has a bounding box. To display the document, the lines are searched by binary search to find the range of lines that fits within the viewport. A slice of glyphs is taken that contain the glyphs belonging to the lines that fit within the viewport. The bounding box of the last line is also used to determine the bounds for scrolling.</p>